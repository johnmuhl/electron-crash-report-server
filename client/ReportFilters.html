<div>
  <label>
    <input bind:checked=$closed on:change="toggle()" type="checkbox">
    Show closed?
  </label>

  {{#if $applications.length > 1}}
  <label class="select-label" for="app-filter">
    Applications
  </label>
  <select id="app-filter" bind:value=$application on:change="change(this)">
    <option value="">Show all</option>
    {{#each $applications as application}}
    <option value={{application}}>
      {{application}}
    </option>
    {{/each}}
  </select>
  {{/if}}
</div>

<style>
div {
  position: sticky;
  top: 0;
  top: calc(2 * 1rem + 1.125em);
  display: flex;
  padding: 1rem;
  justify-content: space-between;
  background-color: white;
  border-bottom: 1px solid #e0e0e0;
}

.select-label {
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  width: 1px;
  overflow: hidden;
  position: absolute !important;
}
</style>

<script>
/* global localStorage */
export default {
  methods: {
    change(s) {
      const application = s.options[s.selectedIndex].value;

      this.store.set({ application });
      localStorage.application = application;
    },
    toggle() {
      localStorage.closed = this.store.get("closed");
    },
  },
};
</script>
